@model PrayerTracker1.Models.UserVM.UserVM
@{ Layout = null; }

<link href="~/Content/Fonts/css/all.min.css" rel="stylesheet" />
<link href="~/Content/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/Fonts/font.css" rel="stylesheet" />
<link href="~/Content/dist/css/select2.min.css" rel="stylesheet" />

<script src="~/Content/dist/js/select2.min.js"></script>
<script src="~/Content/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<style>
    .hero-section {
        font-family: 'Amiri', Tajawal;
    }
</style>
@using (Html.BeginForm("Save", "User", FormMethod.Post, new { enctype = "multipart/formdata", onsubmit = "return validatePasswords();" }))
{
<div class="hero-section position-relative vh-100 w-100 overflow-hidden">
    <video autoplay muted loop class="position-absolute top-50 start-50 translate-middle w-100 h-100 object-fit-cover">
        <source src="@Url.Content("~/Content/Image/5057334-hd_1920_1080_30fps.mp4")" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="content-wrapper position-absolute top-0 start-0 w-100 vh-100 d-flex justify-content-center align-items-center">
        <div class="card p-4 bg-dark bg-opacity-75 text-primary" style="width: 100%; max-width: 500px; max-height: 90vh; overflow-y:scroll;">
            <h3 class="text-center mb-4"><i class="fas fa-praying-hands text-primary"></i> Prayer Tracker - Sign Up</h3>
            <p class="text-center text-white">Create your account and start tracking your prayers!</p>

            <div class="row">
                <div class="col-12">
                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.UserProfile.FirstName, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                            @Html.TextBoxFor(m => m.UserProfile.FirstName, new { @class = "form-control", placeholder = "Enter your First Name", required = "required" })
                        </div>
                    </div>

                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.UserProfile.LastName, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                            @Html.TextBoxFor(m => m.UserProfile.LastName, new { @class = "form-control", placeholder = "Enter your Last Name" })
                        </div>
                    </div>

                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.UserProfile.Email, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                            @Html.TextBoxFor(m => m.UserProfile.Email, new { @class = "form-control", type = "email", placeholder = "Enter your email", required = "required" })
                        </div>
                    </div>

                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.UserProfile.Address, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                            @Html.TextBoxFor(m => m.UserProfile.Address, new { @class = "form-control", placeholder = "Enter your Address" })
                        </div>
                    </div>

                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.UserProfile.ContactNo, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-phone"></i></span>
                            @Html.TextBoxFor(m => m.UserProfile.ContactNo, new { @class = "form-control", placeholder = "Enter Phone No" })
                        </div>
                    </div>

                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.UserName, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-user-circle"></i></span>
                            @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", placeholder = "Choose a username", required = "required" })
                        </div>
                    </div>

                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.Password, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-lock"></i></span>
                            @Html.PasswordFor(m => m.Password, new { @class = "form-control", id = "password", placeholder = "Create a password", required = "required" })
                            <button type="button" class="btn btn-outline-secondary" onclick="togglePassword('password')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-group mb-3 text-white text-start">
                        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "fw-bold mb-2" })
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-lock"></i></span>
                            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", id = "confirmPassword", placeholder = "Confirm password", required = "required" })
                            <button type="button" class="btn btn-outline-secondary" onclick="togglePassword('confirmPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="row d-flex justify-content-between">
                        <div class="col-6 d-flex justify-content-center">
                            <button type="submit" class="btn btn-primary w-100">Register</button>
                        </div>
                        <div class="col-6 d-flex justify-content-center">
                            <button type="reset" class="btn btn-outline-warning w-100">Reset</button>
                        </div>
                    </div>

                    <p class="mt-3 text-white text-center">
                        Already have an account?
                        <a href="@Url.Action("Login", "Home")" class="fw-bold text-primary">
                            <i class="fas fa-sign-in-alt"></i> Sign In
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
}


<script>
    function validatePasswords() {
        var password = document.getElementById("password").value;
        var confirmPassword = document.getElementById("confirmPassword").value;

        if (password === "" || confirmPassword === "") {
            Swal.fire("Error", "Password fields cannot be empty!", "error");
            return false;
        }

        if (password !== confirmPassword) {
            Swal.fire("Error", "Passwords do not match!", "error");
            return false;
        }

        return true;
    }

    function togglePassword(id) {
        var field = document.getElementById(id);
        field.type = field.type === "password" ? "text" : "password";
    }
</script>

