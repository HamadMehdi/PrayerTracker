@model PrayerTracker1.Models.UserVM.LoginVM
@{ Layout = null; }

<link href="~/Content/Fonts/css/all.min.css" rel="stylesheet" />
<link href="~/Content/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/Fonts/font.css" rel="stylesheet" />
<link href="~/Content/css/Layout.css" rel="stylesheet" />

<body class="bg-light d-flex align-items-center justify-content-center min-vh-100">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card shadow-lg p-5" style="min-height: 500px;">
                    <h2 class="text-center bg-primary text-white p-3 rounded mb-4">Login</h2>
                    @if (TempData["MessageSuccess"] != null)
                    {
                        <div class="alert alert-success text-center">@TempData["MessageSuccess"]</div>
                    }
                    @if (TempData["Message"] != null)
                    {
                        <div class="alert alert-danger text-center">@TempData["Message"]</div>
                    }
                    @using (Html.BeginForm("Login", "Home", FormMethod.Post, new { @class = "needs-validation h-100 d-flex flex-column justify-content-between" }))
                    {
                        <div>
                            <div class="mb-4 mt-4">
                                <label class="form-label">Username</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                                    @Html.TextBoxFor(m => m.username, new { @class = "form-control", placeholder = "Enter your username", required = "required" })
                                </div>
                            </div>
                            <div class="mb-4">
                                <label class="form-label">Password</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                    @Html.PasswordFor(m => m.password, new { @class = "form-control", id = "password", placeholder = "Enter your password", required = "required" })
                                <button type="button" class="btn btn-outline-secondary" onclick="togglePassword('password')">
                                    <i class="fas fa-eye"></i>
                                </button>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between mb-4">
                                <a href="@Url.Action("ForgotPassword", "Home")" class="text-primary">Forgot Password?</a>
                            </div>
                        </div>
                        <div class="text-center mt-5 mb-3">
                            <button type="submit" class="btn btn-primary w-50 py-2">Login</button>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    function togglePassword(id) {
        var field = document.getElementById(id);
        field.type = field.type === "password" ? "text" : "password";
    }
</script>