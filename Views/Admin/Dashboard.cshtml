@model PrayerTracker1.Models.DashboardVM.AdminDashboardVM

<div class="container-fluid mt-4">
    <div class="card shadow-sm">
        <div class="card-body mt-2">
            <h2 class="text-primary mb-4">Dashboard Overview</h2>

            <div class="row">
                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card shadow-sm border-primary">
                        <div class="card-body text-center bg-light">
                            <i class="fas fa-users fa-3x text-primary mb-3"></i>
                            <h5 class="card-title">Total Users</h5>
                            <p class="card-text display-6">@Model.TotalUsers</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card shadow-sm border-success">
                        <div class="card-body text-center bg-light">
                            <i class="fas fa-user-check fa-3x text-success mb-3"></i>
                            <h5 class="card-title">Active Users</h5>
                            <p class="card-text display-6">@Model.ActiveUsers</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card shadow-sm border-info">
                        <div class="card-body text-center bg-light">
                            <i class="fas fa-pray fa-3x text-info mb-3"></i>
                            <h5 class="card-title">Total Prayers</h5>
                            <p class="card-text display-6">@Model.TotalPrayers</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card shadow-sm border-warning">
                        <div class="card-body text-center bg-light">
                            <i class="fas fa-clock fa-3x text-warning mb-3"></i>
                            <h5 class="card-title">Qaza Prayers</h5>
                            <p class="card-text display-6">@Model.QazaPrayers</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8">
            <div class="card shadow-sm">

                <div class="card-body p-2 ">
                    <h3 class="text-primary mb-6">Recent Users</h3>
                    <table class="table table-hover table-sm">
                        <thead class="table-light">
                            <tr>
                                <th>Users</th>
                                <th>Joined Date</th>
                                <th>Status</th>
                                <th style="text-align:center">Actions</th>

                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var user in Model.UserDetails)
                            {
                                <tr>
                                    <td>
                                        <div>@user.FirstName</div>
                                        <div class="text-muted small">@user.Email</div>
                                    </td>

                                    <td>@user.CreatedAt.ToShortDateString()</td>
                                    <td>
                                        <span class="badge @(user.status ? "bg-success" : "bg-danger")">
                                            @(user.status ? "Active" : "Inactive")
                                        </span>
                                    </td>
                                    <td>
                                        <a href="@Url.Action("UpdateProfile", "Admin", new { id = user.Fk_UserID})" class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-edit"></i> Edit
                                        </a>
                                        <a href="@Url.Action("EditUserStatus", "Admin", new { id = user.ID})" class="btn btn-sm  @(user.status? "btn-outline-danger" : "btn-outline-success")" onclick="return confirm('Are you sure you want to enable/disable this user?');">
                                            <i class="fas @(user.status ? "fa-times" : "fa-check")"></i> @(user.status ? "Disable" : "Enable")
                                        </a>
                                        <a href="@Url.Action("Delete", "Admin", new { id = user.Fk_UserID })" class="btn btn-outline-warning btn-sm" onclick="return confirm('Are you sure you want to delete this user?');">
                                            <i class="fas fa-trash"></i> Delete
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-4">

            <div class="card shadow-sm">
                <div class="card-body p-4">
                    <h3 class="text-primary mb-6">Content Management</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center bg-light">
                            Prayer Guidelines
                            <span class="badge bg-primary rounded-pill">@Model.ContentStats.PrayerGuidelines articles</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center bg-light">
                            Qaza Prayers
                            <span class="badge bg-success rounded-pill">@Model.ContentStats.QazaPrayers articles</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center bg-light">
                            Prayer Times
                            <span class="badge bg-info rounded-pill">@Model.ContentStats.PrayerTimes articles</span>
                        </li>
                    </ul>
                    <div class="mt-3 text-center">
                        <a href="@Url.Action("Add", "Admin")" class="btn btn-success">
                            <i class="fas fa-plus"></i> Add New Content
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


